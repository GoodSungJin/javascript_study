<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
      .line-th {
        text-decoration: line-through;
      }
    </style>
  </head>
  <body>
    <input type="text" class="input-todo" placeholder="Enter todo!!">
    <button class="add">Add</button>
    <ul class="todos"></ul>
    <script>
      const $inputTodo = document.querySelector('.input-todo');
      const $add = document.querySelector('.add');
      const $todos = document.querySelector('.todos');
      

      function addTodo(newTodo) {
        $todos.innerHTML += `<li class="todo"><input type="checkbox" class="cb"> <span>${newTodo}</span> <button class="remove">X</button></li>`;
      }

      function removeTodo(childNode) {
        $todos.removeChild(childNode);
      }

      function toggleThrough(through) {
        through.classList.toggle('line-th');
      }
      
      $add.onclick = function () {
        addTodo($inputTodo.value);
        $inputTodo.value = '';
      };

      $todos.addEventListener('click', function (e) {
        const target = e.target.parentNode;
        // remove todo!
        if (target.classList.contains('todo') && e.target.classList.contains('remove')) removeTodo(target);
      });

      $todos.addEventListener('change', function (e) {
        const target = e.target.nextElementSibling;

        if (e.target.classList.contains('cb')) toggleThrough(target);
      });
    </script>
  </body>
</html>